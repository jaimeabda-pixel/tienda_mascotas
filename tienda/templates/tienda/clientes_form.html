{% extends 'tienda/base.html' %}
{% load static %}
{% block title %}{{ accion }}{% endblock %}

{% block content %}

<div class="container-fluid">

  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="fw-bold text-body mb-0">
      <i class="fas fa-user me-2 text-primary"></i> {{ accion }}
    </h3>
    <a href="{% url 'clientes_list' %}" class="btn btn-outline-secondary btn-sm">
      <i class="fas fa-arrow-left me-1"></i> Volver
    </a>
  </div>

  <!-- Form Container -->
  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8">

      <div class="glass-card rounded-4 p-4 shadow-lg">

        <form method="POST" id="clienteForm">
          {% csrf_token %}

          <!-- Nombre -->
          <div class="mb-3">
            <label class="form-label fw-bold text-body">
              <i class="fas fa-user me-2 text-primary"></i>
              {{ form.nombre.label }}
            </label>
            {{ form.nombre }}
            {% for error in form.nombre.errors %}
            <div class="text-danger small mt-1">{{ error }}</div>
            {% endfor %}
          </div>

          <!-- Correo -->
          <div class="mb-3">
            <label class="form-label fw-bold text-body">
              <i class="fas fa-envelope me-2 text-primary"></i>
              {{ form.correo.label }}
            </label>
            {{ form.correo }}
            {% for error in form.correo.errors %}
            <div class="text-danger small mt-1">{{ error }}</div>
            {% endfor %}
          </div>

          <!-- Teléfono -->
          <div class="mb-3">
            <label class="form-label fw-bold text-body">
              <i class="fas fa-phone me-2 text-primary"></i>
              {{ form.telefono.label }}
            </label>
            {{ form.telefono }}
            {% for error in form.telefono.errors %}
            <div class="text-danger small mt-1">{{ error }}</div>
            {% endfor %}
          </div>

          <!-- Dirección -->
          <div class="mb-3">
            <label class="form-label fw-bold text-body">
              <i class="fas fa-map-marker-alt me-2 text-primary"></i>
              Dirección
            </label>
            <input type="text" name="direccion" placeholder="Calle, Número, Ciudad..." class="form-control"
              value="{{ form.instance.direccion|default:'' }}">
          </div>

          <!-- Botones -->
          <div class="d-flex gap-2 mt-4">
            <button type="submit" class="btn btn-primary flex-grow-1">
              <i class="fas fa-check me-2"></i>
              {% if form.instance.pk %}Actualizar{% else %}Guardar{% endif %}
            </button>
            <a href="{% url 'clientes_list' %}" class="btn btn-outline-secondary">
              <i class="fas fa-times"></i>
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  /* Form styling */
  #clienteForm .form-control {
    background: var(--bg-input, #fff);
    border: 1px solid var(--border-color, #dee2e6);
    color: var(--text-main, #212529);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  }

  #clienteForm .form-control:focus {
    background: var(--bg-input-focus, #fff);
    border-color: var(--primary, #0d6efd);
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    outline: 0;
  }

  /* Ensure labels are readable in dark mode if needed */
  body.dark-mode .text-body {
    color: #e9ecef !important;
  }
</style>

{% endblock %}