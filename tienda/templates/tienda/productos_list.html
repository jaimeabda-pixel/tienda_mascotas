{% extends 'tienda/base.html' %}
{% load static %}

{% block title %}Productos{% endblock %}

{% block content %}

<div class="container py-4">

  <!-- TÃ­tulo y botÃ³n crear -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="text-light"><i class="fa-solid fa-boxes-stacked me-2"></i> Productos</h2>
    <a href="{% url 'productos_create' %}" class="btn btn-success btn-sm">
      <i class="fa-solid fa-plus me-1"></i> Nuevo Producto
    </a>
  </div>

  <!-- Buscador con HTMX -->
   <input
    type="text"
    id="buscar"
    class="form-control mb-3"
    placeholder="Buscar producto por nombre o cÃ³digo..."
    hx-get="{% url 'buscar_productos_htmx' %}"
    hx-trigger="keyup changed delay:300ms"
    hx-target="#productos-container"
    hx-include="[name='buscar']"
    hx-swap="innerHTML"
    name="buscar"
    />


  <!-- Contenedor de productos -->
  <div id="productos-container" class="row g-3">
    {% include "tienda/partials/productos_cards.html" with productos=productos %}
  </div>

</div>

<!-- ðŸŽ¨ Estilos Personalizados -->
<style>
.product-card {
  border-radius: 12px;
  background: #ffffff;
  transition: transform 0.3s, box-shadow 0.3s;
}
.product-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.2);
}
.producto-img {
  height: 120px;
  object-fit: cover;
  border-radius: 10px;
  transition: transform 0.3s;
}
.product-card:hover .producto-img {
  transform: scale(1.03);
}
.btn { border-radius: 8px; font-size: 0.7rem; padding: 0.25rem 0.4rem; transition: all 0.2s; }
.btn-success { background-color: #1cc88a; border: none; }
.btn-outline-primary { border-color: #4e73df; color: #4e73df; }
.btn-outline-primary:hover { background-color: #4e73df; color: #fff; }
.btn-outline-danger { border-color: #e74a3b; color: #e74a3b; }
.btn-outline-danger:hover { background-color: #e74a3b; color: #fff; }
@media (max-width: 992px){
  .producto-img { height: 100px; }
  .card-title { font-size: 0.8rem; }
}
@media (max-width: 768px){
  .producto-img { height: 90px; }
  .card-title { font-size: 0.75rem; }
}
</style>

{% endblock %}
